<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF8">
  <title>Widget usage diagram</title>

  <!-- JQuery -->
  <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
  <script type="text/javascript" src="bower_components/jquery-ui/jquery-ui.min.js"></script>
  <!-- For the slider -->
  <link rel="stylesheet" href="bower_components/jquery-ui/themes/base/jquery-ui.min.css">

  <!-- Bootstrap -->
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap-theme.css">
  <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

  <!-- Vis.js -->
  <script type="text/javascript" src="bower_components/vis/dist/vis.min.js"></script>
  <link type="text/css" rel="stylesheet" href="bower_components/vis/dist/vis.min.css">

  <!-- Main chart -->
  <script type="text/javascript" src="js/chart.js"></script>
  <style type="text/css">
    #networkMap {
      /*width: 800px;*/
      height: 500px;
      border: 1px solid lightgray;
    }

    #show-info {
        display: none;
    }

    #slider-levels {
        width: 400px;
        margin: 0 0 30px 20px;
    }

    pre {
      padding: 5px;
      margin: 5px;
    }

    .string {
      color: green;
    }

    .number {
      color: darkorange;
    }

    .boolean {
      color: blue;
    }

    .null {
      color: magenta;
    }

    .key {
      color: red;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>PT widget usage</h1>

    <div class="row">
      <div id="show-info">
          <p>Number of levels shown in the chart: <span class="number-levels"></span>.</p>
          <div id="slider-levels"></div>

          <p>Show latest session only: <input id="show-last" type="checkbox"><p>

          <p>Notes about the chart:</p>
          <ul>
            <li>If a session has less than <span class="number-levels"></span> steps, NOOP state will be selected for the remaining levels.</li>
            <li>If a session has more than <span class="number-levels"></span> steps, the remaining ones will be ignored.</li>
            <li>The final state is selected randomly.</li>
            <li>The actions have not been divided to consider the type of devices created/deleted/modified to avoid too many states.</li>
          </ul>
      </div>
    </div>

    <div class="row">
      <div id="networkMap"></div>
    </div>

    <script type="text/javascript">
      chart.create(3);
      chart.load('../data/usage'); //'data/sample_edges.json');
      $('#show-last').attr('checked', false);  // Make sure that at the beginning is unchecked.
      $('#show-last').change(function() {
        if($(this).is(":checked")) {
            chart.filterLast();
        } else {
            chart.filterNone();
        }
    });
    </script>

    <div id="error-dialog" title="Error loading data"><p></p></div>
  </div>
</body>
</html>

